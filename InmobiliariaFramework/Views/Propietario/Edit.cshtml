@model InmobiliariaFramework.Models.ViewModel.PropietarioViewModel
@{
    ViewBag.Title = "Editar Propietario.... (En construcción)";
}
<h2>ViewBag.Title</h2>
<form action="@Url.Content("~/Propietario/Update")">
    <div class="row">
        @Html.HiddenFor(d => d.IdPropietario, new { id = "IdPropietario" })
        <div class="form-group">
            @Html.LabelFor(d => d.Dni)
            @Html.TextBoxFor(d => d.Dni, new { id = "Dni" })
        </div>
        <div class="form-group">
            @Html.LabelFor(d => d.Nombre)
            @Html.TextBoxFor(d => d.Nombre, new { id = "Nombre" })
        </div>
        <div class="form-group">
            @Html.LabelFor(d => d.Apellido)
            @Html.TextBoxFor(d => d.Apellido, new { id = "Apellido" })
        </div>
        <div class="form-group">
            @Html.LabelFor(d => d.Telefono)
            @Html.TextBoxFor(d => d.Telefono, new { id = "Telefono" })
        </div>
        <div class="form-group">
            @Html.LabelFor(d => d.Mail)
            @Html.TextBoxFor(d => d.Mail, new { id = "Mail" })
        </div>
        <div class="form-group">
            @Html.LabelFor(d => d.Password)
            @Html.TextBoxFor(d => d.Password, new { id = "Password" })
        </div>
        <input type="button" value="Guardar" onclick="jsEdit()" />
      
    </div>
    </form>
    <script>
        var url = "@Url.Content("~/Propietario/Update")";
        function jsEdit() {
            fetch(url, {
                method: "POST",
                body: JSON.stringify({
                    IdPropietario: document.getElementById("IdPropietario").value,
                    Dni: document.getElementById("Dni").value,
                    Nombre: document.getElementById("Nombre").value,
                    Apellido: document.getElementById("Apellido").value,
                    Nombre: document.getElementById("Nombre").value,
                    Telefono: document.getElementById("Telefono").value,
                    Mail: document.getElementById("Mail").value,
                    Password: document.getElementById("Password").value
                   
                }),
                headers: {
                    'Acept': "application/json",
                    "Content-Type":"application/json"
                }
            }).then(function (response) {
                if (response.ok)
                    return response.text()
                else
                    alert("Error");
            }).then(function (Data) {
                if (Data != 1) {
                    alert(Data)
                }
                else {
                    document.location.href = "@Url.Content("~/Propietario/")";
                }
            })
        }
    </script>
